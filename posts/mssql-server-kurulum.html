<span class="article-tag">Microsoft Â· SQL Server</span>
<h1>MSSQL Server Kurulum Rehberi: Disk YapÄ±landÄ±rmasÄ±ndan GÃ¼venlik SertleÅŸtirmesine</h1>
<div class="article-meta-row">
    <span>ğŸ“… 23 Åubat 2026</span>
    <span>â± 15 dk okuma</span>
    <span>âœï¸ Burak PehlivanoÄŸlu</span>
</div>

<p>Microsoft SQL Server kurulumu, disk yapÄ±landÄ±rmasÄ±ndan TempDB optimizasyonuna, gÃ¼venlik sertleÅŸtirmesinden audit politikalarÄ±na kadar birÃ§ok kritik adÄ±mÄ± kapsar. YanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir kurulum; performans sorunlarÄ±na, veri kaybÄ± risklerine ve gÃ¼venlik aÃ§Ä±klarÄ±na zemin hazÄ±rlar. Bu rehberde kurumsal ortamlarda SQL Server kurulumunu baÅŸtan sona, adÄ±m adÄ±m ele alÄ±yoruz.</p>

<div class="callout">
    <strong>â„¹ï¸ Rehber KapsamÄ±:</strong> Bu dÃ¶kÃ¼man SQL Server 2019 / 2022 kurulumunu hedef almaktadÄ±r. Disk Ã¶n hazÄ±rlÄ±ÄŸÄ±, kurulum parametreleri, gÃ¼venlik sertleÅŸtirme scriptleri ve Cumulative Update kurulumu dahil tÃ¼m aÅŸamalar ele alÄ±nmÄ±ÅŸtÄ±r. T-SQL scriptleri gerÃ§ek kurumsal ortam pratiklerini yansÄ±tmaktadÄ±r.
</div>

<h2>1. Kurulum Ã–ncesi: Disk YapÄ±landÄ±rmasÄ±</h2>
<p>SQL Server kurulumunun en kritik ve en sÄ±k ihmal edilen adÄ±mÄ± disk yapÄ±landÄ±rmasÄ±dÄ±r. TÃ¼m verileri tek bir diske koymak; I/O Ã§akÄ±ÅŸmalarÄ±na, TempDB kaynaklÄ± performans sorunlarÄ±na ve log yÃ¶netimini gÃ¼Ã§leÅŸtiren karmaÅŸÄ±k bir yapÄ±ya neden olur. AÅŸaÄŸÄ±daki Ã¼Ã§ disk yapÄ±sÄ± kurumsal SQL Server ortamlarÄ±nda standart kabul edilir:</p>

<div class="info-grid">
    <div class="info-item">
        <span class="info-label">Data Diski</span>
        <span class="info-value">150 GB â€” KullanÄ±cÄ± veritabanÄ± MDF ve NDF dosyalarÄ± iÃ§in. NTFS, varsayÄ±lan allocation unit size.</span>
    </div>
    <div class="info-item">
        <span class="info-label">TempDB Diski</span>
        <span class="info-value">50 GB â€” TempDB data ve log dosyalarÄ± iÃ§in. <strong>64 KB allocation unit size (x64 format)</strong> ile formatlanmalÄ±dÄ±r.</span>
    </div>
    <div class="info-item">
        <span class="info-label">Log Diski</span>
        <span class="info-value">50 GB â€” TÃ¼m veritabanlarÄ±nÄ±n LDF (transaction log) dosyalarÄ± iÃ§in. <strong>64 KB allocation unit size (x64 format)</strong> ile formatlanmalÄ±dÄ±r.</span>
    </div>
</div>

<div class="callout warning">
    <strong>âš ï¸ 64 KB Allocation Unit Size Neden Ã–nemli?</strong> SQL Server'Ä±n I/O iÅŸlemleri 64 KB'lÄ±k bloklar Ã¼zerinde gerÃ§ekleÅŸir. Ä°ÅŸletim sisteminin varsayÄ±lan NTFS formatÄ± 4 KB allocation unit size kullanÄ±r; bu durum SQL Server iÃ§in gereksiz I/O amplifikasyonuna yol aÃ§ar. TempDB ve Log disklerini her zaman 64 KB (65536 byte) allocation unit size ile formatlayÄ±n. Data diskini de aynÄ± ÅŸekilde formatlarsanÄ±z yalnÄ±zca fayda saÄŸlarsÄ±nÄ±z.
</div>

<p>Diskleri <strong>Disk Management</strong> veya aÅŸaÄŸÄ±daki PowerShell komutu ile doÄŸru allocation unit size ile formatlamak iÃ§in:</p>

<div class="code-block"><pre>Format-Volume -DriveLetter D -FileSystem NTFS -AllocationUnitSize 65536 -NewFileSystemLabel "SQLTEMP" -Confirm:$false
Format-Volume -DriveLetter E -FileSystem NTFS -AllocationUnitSize 65536 -NewFileSystemLabel "SQLLOG"  -Confirm:$false</pre></div>

<h2>2. SQL Server KlasÃ¶r YapÄ±sÄ±nÄ±n HazÄ±rlanmasÄ±</h2>
<p>Kuruluma baÅŸlamadan Ã¶nce SQL Server'Ä±n kullanacaÄŸÄ± dizinleri oluÅŸturun. Bu klasÃ¶rler kurulum sihirbazÄ±nda path olarak belirtilecektir:</p>

<div class="code-block"><pre>mkdir C:\SQLDATA
mkdir D:\SQLTEMP
mkdir E:\SQLLOG</pre></div>

<div class="callout">
    <strong>ğŸ’¡ KlasÃ¶r Ä°simlendirme StandardÄ±:</strong> SQLDATA, SQLTEMP ve SQLLOG klasÃ¶rlerini ilgili disklerin kÃ¶k dizininde oluÅŸturun. Bu yapÄ±; hem yÃ¶netimi kolaylaÅŸtÄ±rÄ±r hem de gelecekte birden fazla SQL Ã¶rneÄŸini aynÄ± sunucuda barÄ±ndÄ±rma senaryolarÄ±nda karÄ±ÅŸÄ±klÄ±ÄŸÄ± Ã¶nler.
</div>

<h2>3. Kurulum AdÄ±mlarÄ±</h2>

<div class="step-grid">
    <div class="step-item">
        <div class="step-num">1</div>
        <div class="step-body">
            <strong>ISO'yu Sunucuya AlÄ±n ve Setup'Ä± BaÅŸlatÄ±n</strong>
            <span>SQL Server ISO dosyasÄ±nÄ± sunucuya kopyalayÄ±n, mount edin veya doÄŸrudan Ã§Ä±kartÄ±n. <code>setup.exe</code> dosyasÄ±nÄ± yÃ¶netici olarak Ã§alÄ±ÅŸtÄ±rÄ±n. Sol menÃ¼den <em>Installation</em> â†’ <em>New SQL Server stand-alone installation</em> seÃ§eneÄŸini tÄ±klayÄ±n.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">2</div>
        <div class="step-body">
            <strong>ÃœrÃ¼n AnahtarÄ± ve Lisans KoÅŸullarÄ±</strong>
            <span>Kurumsal lisans anahtarÄ±nÄ±zÄ± girin veya Evaluation sÃ¼rÃ¼mÃ¼ iÃ§in boÅŸ bÄ±rakÄ±n. Lisans koÅŸullarÄ±nÄ± kabul edin. Microsoft Update entegrasyonu ekranÄ±nda tercihinizi yapÄ±n.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">3</div>
        <div class="step-body">
            <strong>Feature Selection</strong>
            <span>Minimum kurulum iÃ§in <em>Database Engine Services</em> yeterlidir. Raporlama gerekiyorsa <em>Reporting Services</em>, SSIS pipeline iÅŸlemleri iÃ§in <em>Integration Services</em> ekleyin. Ä°htiyaÃ§ duyulmayan Ã¶zellikleri eklememek gÃ¼venlik yÃ¼zeyini daraltÄ±r.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">4</div>
        <div class="step-body">
            <strong>Collation (Harmanlama) SeÃ§imi</strong>
            <span>Bu adÄ±m son derece kritiktir ve kurulum sonrasÄ± deÄŸiÅŸtirilmesi Ã§ok gÃ¼Ã§tÃ¼r. MÃ¼ÅŸteri gereksinim notuna gÃ¶re collation belirleyin. TÃ¼rkÃ§e karakter desteÄŸi ve bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf duyarlÄ±lÄ±ÄŸÄ± aÃ§Ä±sÄ±ndan en yaygÄ±n seÃ§imler: <code>Turkish_CI_AS</code> (bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf duyarsÄ±z) veya mÃ¼ÅŸteri talebi doÄŸrultusunda farklÄ± bir collation.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">5</div>
        <div class="step-body">
            <strong>Servis HesaplarÄ±</strong>
            <span>SQL Server Engine ve SQL Server Agent iÃ§in servis hesaplarÄ±nÄ± belirleyin. Ãœretim ortamÄ±nda dÃ¼ÅŸÃ¼k yetkili domain servis hesaplarÄ± kullanÄ±lmasÄ± Ã¶nerilir. GeliÅŸtirme/test ortamlarÄ± iÃ§in <em>NT AUTHORITY\NETWORK SERVICE</em> kabul edilebilir.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">6</div>
        <div class="step-body">
            <strong>Authentication Mode ve SA Åifresi</strong>
            <span><em>Mixed Mode</em> seÃ§in (Windows Authentication + SQL Server Authentication). SA (System Administrator) iÃ§in gÃ¼Ã§lÃ¼ bir ÅŸifre belirleyin: en az 12 karakter, bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf, rakam ve Ã¶zel karakter. SA hesabÄ± kurulum sonrasÄ± disable edilecektir; buna raÄŸmen gÃ¼Ã§lÃ¼ bir ÅŸifre zorunludur.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">7</div>
        <div class="step-body">
            <strong>SQL Server Administrators (Sysadmin) Grubunu Belirle</strong>
            <span><em>Add Current User</em> butonuna tÄ±klayarak mevcut yÃ¶netici hesabÄ±nÄ± ekleyin. Kurumsal ortamlarda bu alana bir AD gÃ¼venlik grubu eklenmesi Ã¶nerilir; bireysel hesap yerine grup yÃ¶netimi daha sÃ¼rdÃ¼rÃ¼lebilirdir.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">8</div>
        <div class="step-body">
            <strong>Data Directories Path'lerini Belirle</strong>
            <span>Data root directory: <code>C:\SQLDATA</code>, User database directory: <code>C:\SQLDATA</code>, User database log directory: <code>E:\SQLLOG</code>, Backup directory: yedekleme lokasyonunuz. TempDB ayarlarÄ± bir sonraki sekmeye taÅŸÄ±nmÄ±ÅŸtÄ±r.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">9</div>
        <div class="step-body">
            <strong>TempDB KonfigÃ¼rasyonu</strong>
            <span>TempDB data dosyasÄ± dizini: <code>D:\SQLTEMP</code>, TempDB log dosyasÄ± dizini: <code>D:\SQLTEMP</code>. Data dosyasÄ± sayÄ±sÄ±: <strong>CPU Ã§ekirdek sayÄ±sÄ± ile eÅŸit olacak ÅŸekilde</strong> (max 8 dosya Ã¶nerilir). Her TempDB data dosyasÄ±nÄ±n baÅŸlangÄ±Ã§ boyutunu eÅŸit olarak ayarlayÄ±n; bu anlÄ±k ÅŸiÅŸme sorunlarÄ±nÄ± Ã¶nler.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">10</div>
        <div class="step-body">
            <strong>Kurulumu Tamamla ve DoÄŸrula</strong>
            <span>Ã–zet ekranÄ±nÄ± kontrol edin ve <em>Install</em> butonuna tÄ±klayÄ±n. Kurulum 5â€“15 dakika sÃ¼rer. TamamlandÄ±ÄŸÄ±nda SQL Server Management Studio (SSMS) ile baÄŸlanarak <code>SELECT @@VERSION</code> sorgusu ile kurulumu doÄŸrulayÄ±n.</span>
        </div>
    </div>
</div>

<h2>4. SQL Server Management Studio (SSMS) Kurulumu</h2>
<p>SSMS, SQL Server kurulumundan ayrÄ± olarak daÄŸÄ±tÄ±lan Ã¼cretsiz bir yÃ¶netim aracÄ±dÄ±r. Microsoft'un resmi indirme sayfasÄ±ndan (<code>aka.ms/ssmsfullsetup</code>) en gÃ¼ncel versiyonu indirin ve kurulum sihirbazÄ±nÄ± varsayÄ±lan ayarlarla tamamlayÄ±n.</p>

<div class="callout">
    <strong>ğŸ’¡ SSMS Kurulum SonrasÄ± Ä°lk Kontrol:</strong> SSMS'i aÃ§Ä±n, <em>localhost</em> veya sunucu adÄ±na baÄŸlanÄ±n ve aÅŸaÄŸÄ±daki sorguyu Ã§alÄ±ÅŸtÄ±rÄ±n. SQL Server versiyonu, edition ve patch level bilgisi dÃ¶ner.
</div>

<div class="code-block"><pre>SELECT @@VERSION;</pre></div>

<h2>5. SQL KullanÄ±cÄ±larÄ±nÄ±n OluÅŸturulmasÄ±</h2>
<p>Kurulum tamamlandÄ±ktan sonra kurumsal standartlara uygun Windows kimlik doÄŸrulamalÄ± SQL kullanÄ±cÄ±larÄ±nÄ± ekleyin. AÅŸaÄŸÄ±daki Ã¶rnekte sunucu adÄ±na baÄŸlÄ± beÅŸ servis hesabÄ±, <code>sysadmin</code> rolÃ¼yle eklenmektedir. While dÃ¶ngÃ¼sÃ¼ kullanÄ±larak tekrarlayan kod Ã¶nlenmiÅŸtir:</p>

<div class="code-block"><pre>USE [master];
GO

DECLARE @kullanici NVARCHAR(100);
DECLARE @sql NVARCHAR(500);
DECLARE @sunucu NVARCHAR(100) = CAST(SERVERPROPERTY('MachineName') AS NVARCHAR(100));

-- Eklenecek kullanÄ±cÄ± suffixleri
DECLARE @suffixler TABLE (id INT IDENTITY(1,1), suffix NVARCHAR(50));
INSERT INTO @suffixler (suffix) VALUES
    ('\ksod248'),
    ('\ksdb248'),
    ('\ksbck248'),
    ('\ksid248'),
    ('\kssyy248');

DECLARE @i INT = 1;
DECLARE @toplam INT = (SELECT COUNT(*) FROM @suffixler);

WHILE @i <= @toplam
BEGIN
    SELECT @kullanici = @sunucu + suffix FROM @suffixler WHERE id = @i;

    IF NOT EXISTS (SELECT 1 FROM sys.server_principals WHERE name = @kullanici)
    BEGIN
        SET @sql = N'CREATE LOGIN [' + @kullanici + N'] FROM WINDOWS WITH DEFAULT_DATABASE=[master];
                     ALTER SERVER ROLE [sysadmin] ADD MEMBER [' + @kullanici + N'];';
        EXEC sp_executesql @sql;
        PRINT 'OluÅŸturuldu: ' + @kullanici;
    END
    ELSE
        PRINT 'Zaten mevcut: ' + @kullanici;

    SET @i = @i + 1;
END
GO</pre></div>

<div class="callout warning">
    <strong>âš ï¸ Sysadmin RolÃ¼ Dikkatli Verilmeli:</strong> YukarÄ±daki script servis hesaplarÄ±na <code>sysadmin</code> rolÃ¼ vermektedir. Ãœretim ortamÄ±nda gerÃ§ek uygulama kullanÄ±cÄ±larÄ± iÃ§in minimum yetki prensibini (least privilege) uygulayÄ±n; yalnÄ±zca ihtiyaÃ§ duyulan veritabanlarÄ±nda ve iÅŸlemlerde yetkilendirme yapÄ±n. Sysadmin yetkisi yalnÄ±zca DBA ve servis yÃ¶netim hesaplarÄ± iÃ§in verilmelidir.
</div>

<h2>6. RAM KonfigÃ¼rasyonu</h2>
<p>SQL Server, varsayÄ±lan olarak tÃ¼m sistem belleÄŸini kullanmaya Ã§alÄ±ÅŸÄ±r. Bu durum iÅŸletim sistemi ve diÄŸer servislerin bellek yetersizliÄŸi yaÅŸamasÄ±na yol aÃ§ar. Genel kural olarak <strong>toplam RAM'in %80'i SQL Server'a ayrÄ±lÄ±r</strong>; kalan %20 iÅŸletim sistemi ve diÄŸer sÃ¼reÃ§ler iÃ§in bÄ±rakÄ±lÄ±r.</p>

<div class="code-block"><pre>-- Ã–rnek: 64 GB RAM'li sunucu iÃ§in (64 * 0.80 = 51.2 GB â‰ˆ 52428 MB)
USE [master];
GO

EXEC sp_configure 'show advanced options', 1;
RECONFIGURE;

-- max server memory (MB) cinsinden belirtin
EXEC sp_configure 'max server memory', 52428;
RECONFIGURE;

-- AyarÄ± doÄŸrula
EXEC sp_configure 'max server memory';
GO</pre></div>

<div class="callout">
    <strong>ğŸ’¡ Minimum Memory de AyarlanmalÄ±:</strong> <code>min server memory</code> deÄŸerini de makul bir dÃ¼zeye ayarlayÄ±n (Ã¶rneÄŸin 1024 MB). Bu sayede SQL Server belleÄŸi tamamen boÅŸaltmaz ve performans dalgalanmalarÄ± azalÄ±r. Bellek miktarÄ±na gÃ¶re min/max deÄŸerlerini dengeli tutun.
</div>

<h2>7. Reboot SonrasÄ± GÃ¼venlik SertleÅŸtirme Scriptleri</h2>
<p>Sunucu yeniden baÅŸlatÄ±ldÄ±ktan sonra aÅŸaÄŸÄ±daki gÃ¼venlik scriptlerini sÄ±rasÄ±yla Ã§alÄ±ÅŸtÄ±rÄ±n. Bu adÄ±mlar kurumsal gÃ¼venlik standartlarÄ±nÄ±n zorunlu bir parÃ§asÄ±dÄ±r.</p>

<h3>7.1 SA HesabÄ±nÄ± Devre DÄ±ÅŸÄ± BÄ±rakma</h3>
<p>SA hesabÄ± bilinen bir hedef olduÄŸundan brute-force saldÄ±rÄ±larÄ±na karÅŸÄ± devre dÄ±ÅŸÄ± bÄ±rakÄ±lmalÄ±dÄ±r. Mixed Mode kurulumda SA hesabÄ± oluÅŸturulur ancak aktif bÄ±rakÄ±lmamalÄ±dÄ±r:</p>

<div class="code-block"><pre>USE [master];
GO

-- SA hesabÄ±nÄ± disable et
ALTER LOGIN [sa] DISABLE;

-- SA hesabÄ±nÄ±n adÄ±nÄ± da deÄŸiÅŸtirerek ek koruma saÄŸla
ALTER LOGIN [sa] WITH NAME = [sql_sa_disabled];

-- DoÄŸrula
SELECT name, is_disabled FROM sys.server_principals WHERE name IN ('sa', 'sql_sa_disabled');
GO</pre></div>

<h3>7.2 Ã–rnek VeritabanlarÄ±nÄ± Sil</h3>
<p>SQL Server kurulumu ile birlikte gelen AdventureWorks, Northwind ve Pubs Ã¶rnek veritabanlarÄ± Ã¼retim ortamÄ±nda gereksiz bir saldÄ±rÄ± yÃ¼zeyi oluÅŸturur ve kaldÄ±rÄ±lmalÄ±dÄ±r:</p>

<div class="code-block"><pre>USE [master];
GO

-- AdventureWorks (birden fazla versiyon kurulmuÅŸ olabilir)
IF EXISTS (SELECT name FROM sys.databases WHERE name LIKE 'AdventureWorks%')
BEGIN
    DECLARE @dbname NVARCHAR(100);
    DECLARE db_cursor CURSOR FOR
        SELECT name FROM sys.databases WHERE name LIKE 'AdventureWorks%';
    OPEN db_cursor;
    FETCH NEXT FROM db_cursor INTO @dbname;
    WHILE @@FETCH_STATUS = 0
    BEGIN
        EXEC('ALTER DATABASE [' + @dbname + '] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;');
        EXEC('DROP DATABASE [' + @dbname + '];');
        PRINT 'Silindi: ' + @dbname;
        FETCH NEXT FROM db_cursor INTO @dbname;
    END
    CLOSE db_cursor;
    DEALLOCATE db_cursor;
END

-- Northwind
IF EXISTS (SELECT name FROM sys.databases WHERE name = 'Northwind')
BEGIN
    ALTER DATABASE [Northwind] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
    DROP DATABASE [Northwind];
    PRINT 'Silindi: Northwind';
END

-- pubs
IF EXISTS (SELECT name FROM sys.databases WHERE name = 'pubs')
BEGIN
    ALTER DATABASE [pubs] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
    DROP DATABASE [pubs];
    PRINT 'Silindi: pubs';
END
GO</pre></div>

<h3>7.3 Server Audit OluÅŸturma</h3>
<p>SQL Server Audit, kritik gÃ¼venlik olaylarÄ±nÄ± Windows Application Log'a veya dosyaya yazar. Uyumluluk gereksinimleri ve gÃ¼venlik izleme aÃ§Ä±sÄ±ndan zorunludur:</p>

<div class="code-block"><pre>USE [master];
GO

-- Mevcut audit varsa kaldÄ±r
IF EXISTS (SELECT name FROM sys.server_audits WHERE name = 'SQL_SECURITY_AUDIT')
BEGIN
    ALTER SERVER AUDIT [SQL_SECURITY_AUDIT] WITH (STATE = OFF);
    DROP SERVER AUDIT [SQL_SECURITY_AUDIT];
END

-- SERVER AUDIT oluÅŸtur â€” Windows Application Log'a yaz
CREATE SERVER AUDIT [SQL_SECURITY_AUDIT]
TO APPLICATION_LOG
WITH
(
    QUEUE_DELAY        = 1000,       -- milisaniye
    ON_FAILURE         = CONTINUE    -- Audit baÅŸarÄ±sÄ±z olursa SQL Server devam eder
);

-- Audit'i aktif et
ALTER SERVER AUDIT [SQL_SECURITY_AUDIT] WITH (STATE = ON);
GO</pre></div>

<h3>7.4 Server Audit Specification OluÅŸturma</h3>
<p>Audit Specification, hangi olay gruplarÄ±nÄ±n denetleneceÄŸini tanÄ±mlar. AÅŸaÄŸÄ±daki konfigÃ¼rasyon kurumsal gÃ¼venlik standartlarÄ±nÄ± karÅŸÄ±layan kapsamlÄ± bir set iÃ§erir:</p>

<div class="code-block"><pre>USE [master];
GO

-- Mevcut specification varsa kaldÄ±r
IF EXISTS (SELECT name FROM sys.server_audit_specifications WHERE name = 'SQL_SECURITY_AUDIT_SPEC')
BEGIN
    ALTER SERVER AUDIT SPECIFICATION [SQL_SECURITY_AUDIT_SPEC] WITH (STATE = OFF);
    DROP SERVER AUDIT SPECIFICATION [SQL_SECURITY_AUDIT_SPEC];
END

CREATE SERVER AUDIT SPECIFICATION [SQL_SECURITY_AUDIT_SPEC]
FOR SERVER AUDIT [SQL_SECURITY_AUDIT]
ADD (APPLICATION_ROLE_CHANGE_PASSWORD_GROUP),
ADD (AUDIT_CHANGE_GROUP),
ADD (BACKUP_RESTORE_GROUP),
ADD (DATABASE_CHANGE_GROUP),
ADD (DATABASE_OBJECT_CHANGE_GROUP),
ADD (DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP),
ADD (DATABASE_OBJECT_PERMISSION_CHANGE_GROUP),
ADD (DATABASE_OWNERSHIP_CHANGE_GROUP),
ADD (DATABASE_PERMISSION_CHANGE_GROUP),
ADD (DATABASE_PRINCIPAL_CHANGE_GROUP),
ADD (DATABASE_PRINCIPAL_IMPERSONATION_GROUP),
ADD (DATABASE_ROLE_MEMBER_CHANGE_GROUP),
ADD (DBCC_GROUP),
ADD (FAILED_LOGIN_GROUP),
ADD (LOGIN_CHANGE_PASSWORD_GROUP),
ADD (LOGOUT_GROUP),
ADD (SCHEMA_OBJECT_CHANGE_GROUP),
ADD (SCHEMA_OBJECT_OWNERSHIP_CHANGE_GROUP),
ADD (SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP),
ADD (SERVER_OBJECT_CHANGE_GROUP),
ADD (SERVER_OBJECT_OWNERSHIP_CHANGE_GROUP),
ADD (SERVER_OBJECT_PERMISSION_CHANGE_GROUP),
ADD (SERVER_OPERATION_GROUP),
ADD (SERVER_PERMISSION_CHANGE_GROUP),
ADD (SERVER_PRINCIPAL_CHANGE_GROUP),
ADD (SERVER_PRINCIPAL_IMPERSONATION_GROUP),
ADD (SERVER_ROLE_MEMBER_CHANGE_GROUP),
ADD (SERVER_STATE_CHANGE_GROUP),
ADD (SUCCESSFUL_LOGIN_GROUP),
ADD (TRACE_CHANGE_GROUP)
WITH (STATE = ON);
GO</pre></div>

<div class="callout">
    <strong>ğŸ’¡ Audit OlaylarÄ±nÄ± DoÄŸrulama:</strong> Audit specification oluÅŸturulduktan sonra bir test login yapÄ±n ve Windows Event Viewer â†’ Windows Logs â†’ Application bÃ¶lÃ¼mÃ¼nde SQL Server kaynaklÄ± olaylarÄ± kontrol edin. Alternatif olarak aÅŸaÄŸÄ±daki sorgu ile audit kayÄ±tlarÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyebilirsiniz:
</div>

<div class="code-block"><pre>-- Audit log kayÄ±tlarÄ±nÄ± gÃ¶rÃ¼ntÃ¼le
SELECT
    event_time,
    action_id,
    succeeded,
    server_principal_name,
    target_server_principal_name,
    statement
FROM sys.fn_get_audit_file('\\.\PIPE\SQLServer_*', DEFAULT, DEFAULT)
ORDER BY event_time DESC;</pre></div>

<h2>8. Cumulative Update (CU) Kurulumu</h2>
<p>SQL Server iÃ§in Microsoft'un yayÄ±mladÄ±ÄŸÄ± Cumulative Update'ler; hata dÃ¼zeltmeleri, gÃ¼venlik yamalarÄ± ve performans iyileÅŸtirmelerini iÃ§erir. Kurulum tamamlandÄ±ktan sonra Microsoft'un resmi destek sayfasÄ±ndan ilgili SQL Server sÃ¼rÃ¼mÃ¼ne ait en son CU'yu indirin ve Ã§alÄ±ÅŸtÄ±rÄ±n.</p>

<div class="step-grid">
    <div class="step-item">
        <div class="step-num">1</div>
        <div class="step-body">
            <strong>GÃ¼ncel CU'yu Ä°ndirin</strong>
            <span>Microsoft Catalog (<code>catalog.update.microsoft.com</code>) veya resmi SQL Server blog sayfasÄ±ndan ilgili sÃ¼rÃ¼me ait son CU'yu indirin. CU dosyasÄ± <code>SQLServer20xx-KBxxxxxxx-x64.exe</code> formatÄ±ndadÄ±r.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">2</div>
        <div class="step-body">
            <strong>SQL Server Agent'Ä± Durdurun</strong>
            <span>CU kurulumu Ã¶ncesinde SQL Server Agent servisini durdurun. Aktif job'larÄ±n tamamlanmasÄ±nÄ± bekleyin. Ãœretim ortamÄ±nda bakÄ±m penceresi planlanmalÄ±dÄ±r.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">3</div>
        <div class="step-body">
            <strong>CU Installer'Ä± Ã‡alÄ±ÅŸtÄ±rÄ±n</strong>
            <span>CU dosyasÄ±nÄ± yÃ¶netici olarak Ã§alÄ±ÅŸtÄ±rÄ±n. SQL Server kurulum dosyalarÄ± otomatik olarak tespit edilir. Lisans koÅŸullarÄ±nÄ± onaylayÄ±n ve gÃ¼ncellemeyi baÅŸlatÄ±n. Bu iÅŸlem 5â€“20 dakika sÃ¼rebilir.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">4</div>
        <div class="step-body">
            <strong>Patch Seviyesini DoÄŸrulayÄ±n</strong>
            <span>Kurulum tamamlandÄ±ktan sonra SQL Server Agent'Ä± yeniden baÅŸlatÄ±n ve SSMS Ã¼zerinden <code>SELECT @@VERSION</code> sorgusunu Ã§alÄ±ÅŸtÄ±rÄ±n. SonuÃ§ta CU numarasÄ±nÄ±n gÃ¼ncel sÃ¼rÃ¼mle eÅŸleÅŸtiÄŸini doÄŸrulayÄ±n.</span>
        </div>
    </div>
</div>

<h2>9. Åifre Expire SÃ¼resi KontrolÃ¼</h2>
<p>SQL Server Ã¼zerinde tanÄ±mlÄ± SQL Authentication login'lerinin ÅŸifre politikasÄ± durumunu ve son ÅŸifre deÄŸiÅŸiklik tarihini aÅŸaÄŸÄ±daki sorgu ile kontrol edebilirsiniz. Bu kontrol Ã¶zellikle dÃ¼zenli gÃ¼venlik denetimleri iÃ§in kullanÄ±ÅŸlÄ±dÄ±r:</p>

<div class="code-block"><pre>USE [master];
GO

SELECT
    sp.name                          AS LoginAdi,
    sp.type_desc                     AS LoginTipi,
    sp.is_disabled                   AS Disabled,
    sp.is_policy_checked             AS PolitikaKontrol,
    sp.is_expiration_checked         AS SureKontrol,
    LOGINPROPERTY(sp.name, 'PasswordLastSetTime')   AS SifreSonDegisim,
    LOGINPROPERTY(sp.name, 'DaysUntilExpiration')   AS KalanGun,
    LOGINPROPERTY(sp.name, 'IsExpired')              AS Suresi_Dolmus,
    LOGINPROPERTY(sp.name, 'IsLocked')               AS Kilitli,
    LOGINPROPERTY(sp.name, 'BadPasswordCount')       AS HataliDeneme
FROM sys.server_principals sp
WHERE sp.type = 'S'   -- SQL Authentication logins
  AND sp.name NOT IN ('##MS_PolicyEventProcessingLogin##', '##MS_AgentSigningCertificate##')
ORDER BY sp.name;
GO</pre></div>

<h2>10. Kurulum SonrasÄ± Kontrol Listesi</h2>

<div class="step-grid">
    <div class="step-item">
        <div class="step-num">âœ…</div>
        <div class="step-body">
            <strong>Disk ve KlasÃ¶r YapÄ±sÄ±</strong>
            <span>SQLDATA, SQLTEMP ve SQLLOG klasÃ¶rlerinin doÄŸru disklerde oluÅŸturulduÄŸunu ve TempDB + Log disklerinin 64 KB allocation unit size ile formatlandÄ±ÄŸÄ±nÄ± doÄŸrulayÄ±n.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">âœ…</div>
        <div class="step-body">
            <strong>Collation DoÄŸrulamasÄ±</strong>
            <span><code>SELECT SERVERPROPERTY('Collation')</code> ile sunucu collation'Ä±nÄ±n beklenen deÄŸerle eÅŸleÅŸtiÄŸini doÄŸrulayÄ±n.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">âœ…</div>
        <div class="step-body">
            <strong>Max Server Memory</strong>
            <span>RAM konfigÃ¼rasyonunun doÄŸru uygulandÄ±ÄŸÄ±nÄ± <code>EXEC sp_configure 'max server memory'</code> ile teyit edin.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">âœ…</div>
        <div class="step-body">
            <strong>SA HesabÄ± Disabled</strong>
            <span><code>SELECT name, is_disabled FROM sys.server_principals WHERE name = 'sql_sa_disabled'</code> sorgusu ile SA'nÄ±n devre dÄ±ÅŸÄ± olduÄŸunu doÄŸrulayÄ±n.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">âœ…</div>
        <div class="step-body">
            <strong>Ã–rnek VeritabanlarÄ± SilinmiÅŸ</strong>
            <span><code>SELECT name FROM sys.databases</code> listesinde AdventureWorks, Northwind ve pubs gÃ¶rÃ¼nmemeli.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">âœ…</div>
        <div class="step-body">
            <strong>Audit Aktif</strong>
            <span><code>SELECT name, is_state_enabled FROM sys.server_audits</code> ile SQL_SECURITY_AUDIT'in aktif olduÄŸunu doÄŸrulayÄ±n.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">âœ…</div>
        <div class="step-body">
            <strong>CU GÃ¼ncel</strong>
            <span><code>SELECT @@VERSION</code> Ã§Ä±ktÄ±sÄ±nda CU numarasÄ±nÄ±n Microsoft'un gÃ¼ncel yayÄ±nÄ±yla eÅŸleÅŸtiÄŸini doÄŸrulayÄ±n.</span>
        </div>
    </div>
    <div class="step-item">
        <div class="step-num">âœ…</div>
        <div class="step-body">
            <strong>KullanÄ±cÄ± Login'leri DoÄŸrulama</strong>
            <span><code>SELECT name, type_desc, is_disabled FROM sys.server_principals WHERE type IN ('U','S')</code> ile tÃ¼m servis hesaplarÄ±nÄ±n eklendiÄŸini ve aktif olduÄŸunu doÄŸrulayÄ±n.</span>
        </div>
    </div>
</div>

<div class="callout">
    <strong>ğŸ’¡ Ek GÃ¼venlik AdÄ±mlarÄ±:</strong> Temel sertleÅŸtirme tamamlandÄ±ktan sonra aÅŸaÄŸÄ±daki ek gÃ¼venlik yapÄ±landÄ±rmalarÄ± da deÄŸerlendirin:<br><br>
    â€” <strong>VarsayÄ±lan Port DeÄŸiÅŸikliÄŸi:</strong> SQL Server varsayÄ±lan olarak 1433 portunu kullanÄ±r. Bu bilinen port, tarama saldÄ±rÄ±larÄ±nÄ±n hedefidir. SQL Server Configuration Manager Ã¼zerinden farklÄ± bir port atayÄ±n ve firewall kurallarÄ±nÄ± buna gÃ¶re gÃ¼ncelleyin.<br><br>
    â€” <strong>Encrypted Connections:</strong> SQL Server Configuration Manager â†’ Protocols for MSSQLSERVER â†’ Properties â†’ Force Encryption = Yes ile tÃ¼m baÄŸlantÄ±larÄ±n TLS Ã¼zerinden ÅŸifreli olmasÄ±nÄ± zorunlu kÄ±lÄ±n.<br><br>
    â€” <strong>SQL Browser Servisini Kapat:</strong> Named instance kullanmÄ±yorsanÄ±z SQL Browser servisini devre dÄ±ÅŸÄ± bÄ±rakÄ±n. Bu servis, SQL Server Ã¶rneklerini aÄŸda yayÄ±nlar ve gereksiz yere saldÄ±rÄ± yÃ¼zeyi oluÅŸturur.
</div>

<h2>SonuÃ§</h2>
<p>MSSQL Server kurulumu, doÄŸru yapÄ±ldÄ±ÄŸÄ±nda hem performanslÄ± hem de gÃ¼venli bir veritabanÄ± altyapÄ±sÄ±nÄ±n temelini oluÅŸturur. Disk yapÄ±landÄ±rmasÄ±nda yapÄ±lan hatalar (Ã¶zellikle allocation unit size) uzun vadede ciddi performans sorunlarÄ±na yol aÃ§arken, gÃ¼venlik sertleÅŸtirme adÄ±mlarÄ±nÄ±n atlanmasÄ± kurumsal veriyi risk altÄ±na sokar. Bu rehberdeki adÄ±mlarÄ± takip ederek standart, tekrarlanabilir ve denetlenebilir bir kurulum sÃ¼reci oluÅŸturabilirsiniz.</p>

<p>Kurulum sonrasÄ±nda dÃ¼zenli aralÄ±klarla patch yÃ¶netimi (CU gÃ¼ncellemeleri), audit log incelemesi ve kapasite izleme faaliyetlerini sÃ¼rdÃ¼rmek; saÄŸlÄ±klÄ± bir SQL Server ortamÄ±nÄ±n vazgeÃ§ilmez koÅŸullarÄ±dÄ±r.</p>
