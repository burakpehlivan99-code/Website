<span class="article-tag">Linux Â· LVM / Storage</span>
                <h1>Linux'ta LVM ile Disk Ekleme: pvcreate'den fstab'a AdÄ±m AdÄ±m Rehber</h1>
                <div class="article-meta-row">
                    <span>ğŸ“… 15 Åubat 2026</span>
                    <span>â± 8 dk okuma</span>
                    <span>âœï¸ Burak PehlivanoÄŸlu</span>
                </div>

                <p>Linux Ã¼zerinde yeni bir disk ekleyip production'a hazÄ±r hale getirmek birkaÃ§ adÄ±mdan oluÅŸur. LVM (Logical Volume Manager) bu sÃ¼reci esnek ve yÃ¶netilebilir kÄ±lar: fiziksel diski bir volume group'a ekler, Ã¼zerinde logical volume oluÅŸturur ve sisteme mount edersiniz. Bu rehberde <code>/dev/sdb</code> diskini <code>/data</code> mount noktasÄ±na baÄŸlamayÄ± ve kurulumu kalÄ±cÄ± hale getirmeyi adÄ±m adÄ±m gÃ¶steriyorum.</p>

                <div class="callout">
                    <strong>â„¹ï¸ Ã–n Bilgi:</strong> Bu rehberdeki adÄ±mlar RHEL, CentOS ve tÃ¼revlerinde test edilmiÅŸtir. Disk eklenmiÅŸ ve iÅŸletim sistemince gÃ¶rÃ¼nÃ¼r durumda olmalÄ±dÄ±r. Diskin mevcut olup olmadÄ±ÄŸÄ±nÄ± <code>lsblk</code> ile doÄŸrulayÄ±n.
                </div>

                <h2>Genel Ä°ÅŸ AkÄ±ÅŸÄ±</h2>
                <div class="step-grid">
                    <div class="step-item">
                        <div class="step-num">1</div>
                        <div class="step-body">
                            <strong>Diski GÃ¶rÃ¼ntÃ¼le</strong>
                            <span><code>lsblk</code> ile yeni eklenen diskin sistem tarafÄ±ndan tanÄ±ndÄ±ÄŸÄ±nÄ± doÄŸrula.</span>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-num">2</div>
                        <div class="step-body">
                            <strong>Physical Volume (PV) OluÅŸtur</strong>
                            <span><code>pvcreate</code> ile diski LVM iÃ§in hazÄ±rla.</span>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-num">3</div>
                        <div class="step-body">
                            <strong>Volume Group (VG) OluÅŸtur</strong>
                            <span><code>vgcreate</code> ile PV'yi bir volume group'a dahil et.</span>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-num">4</div>
                        <div class="step-body">
                            <strong>Logical Volume (LV) OluÅŸtur</strong>
                            <span><code>lvcreate</code> ile VG Ã¼zerinde mantÄ±ksal birim oluÅŸtur.</span>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-num">5</div>
                        <div class="step-body">
                            <strong>Formatla</strong>
                            <span><code>mkfs.xfs</code> ile LV Ã¼zerinde dosya sistemi oluÅŸtur.</span>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-num">6</div>
                        <div class="step-body">
                            <strong>Mount Et ve KalÄ±cÄ± Hale Getir</strong>
                            <span>Mount noktasÄ± oluÅŸtur, <code>mount</code> ile baÄŸla, <code>/etc/fstab</code>'a ekle.</span>
                        </div>
                    </div>
                </div>

                <h2>Komutlar: /data iÃ§in Tam Uygulama</h2>
                <div class="code-block"><pre># 1. Diskleri listele - /dev/sdb'nin gÃ¶rÃ¼ndÃ¼ÄŸÃ¼nÃ¼ doÄŸrula
lsblk

# 2. Fiziksel volume oluÅŸtur
sudo pvcreate /dev/sdb
# Beklenen Ã§Ä±ktÄ±: Physical volume "/dev/sdb" successfully created.

# 3. Volume group oluÅŸtur
sudo vgcreate vg_data /dev/sdb
# Beklenen Ã§Ä±ktÄ±: Volume group "vg_data" successfully created

# 4. Logical volume oluÅŸtur (tÃ¼m alanÄ± kullan)
sudo lvcreate -l 100%FREE -n lv_data vg_data
# Beklenen Ã§Ä±ktÄ±: Logical volume "lv_data" created.

# 5. XFS dosya sistemi oluÅŸtur
sudo mkfs.xfs /dev/vg_data/lv_data

# 6. Mount noktasÄ± oluÅŸtur
sudo mkdir /data

# 7. Diski baÄŸla
sudo mount /dev/vg_data/lv_data /data

# 8. KalÄ±cÄ± hale getir - fstab'Ä± dÃ¼zenle
vi /etc/fstab
# Åu satÄ±rÄ± ekle:
# /dev/mapper/vg_data-lv_data  /data  xfs  defaults  0 0

# 9. fstab'Ä± test et (hata yoksa Ã§Ä±ktÄ± vermez)
mount -a</pre></div>

                <div class="callout">
                    <strong>âœ… Kontrol:</strong> <code>mount -a</code> Ã§Ä±ktÄ± vermeden tamamlanÄ±rsa konfigÃ¼rasyon doÄŸrudur. <code>df -h | grep data</code> ile mount'u doÄŸrulayabilirsiniz.
                </div>

                <h2>Ã–rnek 2: WSO2 iÃ§in Disk Ekleme</h2>
                <p>AynÄ± sÃ¼reci farklÄ± bir uygulama iÃ§in uygulamak da aynÄ± adÄ±mlarÄ± izler; sadece isimler deÄŸiÅŸir:</p>
                <div class="code-block"><pre># Volume group oluÅŸtur
sudo vgcreate vg_wso2 /dev/sdb

# Logical volume oluÅŸtur
sudo lvcreate -l 100%FREE -n lv_wso2 vg_wso2

# XFS ile formatla
sudo mkfs.xfs /dev/vg_wso2/lv_wso2

# Mount noktasÄ± oluÅŸtur ve baÄŸla
sudo mkdir /wso2
sudo mount /dev/vg_wso2/lv_wso2 /wso2

# /etc/fstab'a ÅŸu satÄ±rÄ± ekle:
# /dev/mapper/vg_wso2-lv_wso2  /wso2  xfs  defaults  0 0

# Test et
mount -a</pre></div>

                <h2>UUID ile fstab KullanÄ±mÄ± (Alternatif)</h2>
                <p>Device path yerine UUID kullanmak daha gÃ¼venlidir; disk isimleri deÄŸiÅŸse bile mount Ã§alÄ±ÅŸmaya devam eder.</p>
                <div class="code-block"><pre># Diskin UUID'sini Ã¶ÄŸren
blkid /dev/vg_data/lv_data
# Ã–rnek Ã§Ä±ktÄ±: /dev/mapper/vg_data-lv_data: UUID="a1b2c3d4-..." TYPE="xfs"

# fstab'a UUID ile ekle:
UUID=a1b2c3d4-e5f6-7890-abcd-ef1234567890  /data  xfs  defaults  0 0</pre></div>

                <h2>Logical Volume Yeniden AdlandÄ±rma</h2>
                <p>Mevcut bir LV'yi yeniden adlandÄ±rmak gerektiÄŸinde yalnÄ±zca <code>lvrename</code> yeterli deÄŸildir; fstab ve aktif mount da gÃ¼ncellenmelidir.</p>
                <div class="code-block"><pre># 1. LV'yi yeniden adlandÄ±r
sudo lvrename /dev/vg_data/lv_01 /dev/vg_data/lv_data

# 2. fstab'daki eski adÄ± yenisiyle gÃ¼ncelle
vi /etc/fstab
# /dev/mapper/vg_data-lv_01 â†’ /dev/mapper/vg_data-lv_data

# 3. TÃ¼m mount'larÄ± yeniden yÃ¼kle
mount -a</pre></div>

                <h2>DiÄŸer YararlÄ± LVM KomutlarÄ±</h2>
                <table class="cmd-table">
                    <thead>
                        <tr><th>Komut</th><th>AÃ§Ä±klama</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>vgs</code></td><td>Volume group'larÄ± ve Ã¶zetlerini listele</td></tr>
                        <tr><td><code>pvs</code></td><td>Physical volume'leri listele</td></tr>
                        <tr><td><code>lvs</code></td><td>Logical volume'leri listele</td></tr>
                        <tr><td><code>lvscan</code></td><td>Sistemdeki tÃ¼m LV'leri tara ve durumlarÄ±nÄ± gÃ¶ster</td></tr>
                        <tr><td><code>vgdisplay vg_data</code></td><td>Volume group detaylarÄ±nÄ± gÃ¶ster (toplam/boÅŸ alan vs.)</td></tr>
                        <tr><td><code>lvdisplay</code></td><td>LV detaylarÄ±nÄ± gÃ¶ster</td></tr>
                    </tbody>
                </table>

                <div class="callout">
                    <strong>âš ï¸ Dikkat:</strong> <code>/etc/fstab</code> dosyasÄ±na hatalÄ± bir satÄ±r eklerseniz, sunucu bir sonraki reboot'ta maintenance mode'a dÃ¼ÅŸer. Bu durumda root ÅŸifresiyle sisteme girip ilgili satÄ±rÄ± kaldÄ±rmanÄ±z gerekir. <code>mount -a</code> ile Ã¶nceden test etmek bu riski Ã¶nemli Ã¶lÃ§Ã¼de azaltÄ±r. Reboot genellikle gerekmez; <code>mount -a</code> yeterlidir.
                </div>
